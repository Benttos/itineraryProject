<?xml version="1.0" encoding="utf-8"?>
<configuration>
  <system.serviceModel>
    <bindings>
      <basicHttpBinding>
        <binding name="BasicHttpBinding_IProxy" maxReceivedMessageSize="10485760" transferMode="Buffered">
          <readerQuotas maxDepth="32" maxStringContentLength="10485760" maxArrayLength="10485760" maxBytesPerRead="4096" maxNameTableCharCount="16384" />
        </binding>
        <binding name="BasicHttpBinding_Server" maxReceivedMessageSize="10485760" transferMode="Buffered">
          <readerQuotas maxDepth="32" maxStringContentLength="10485760" maxArrayLength="10485760" maxBytesPerRead="4096" maxNameTableCharCount="16384" />
        </binding>
      </basicHttpBinding>
    </bindings>

    <client>
      <endpoint address="http://localhost:8733/Design_Time_Addresses/ProxyCacheProject/Proxy/"
                binding="basicHttpBinding"
                bindingConfiguration="BasicHttpBinding_IProxy"
                contract="ProxyReference.IProxy"
                name="BasicHttpBinding_IProxy" />
    </client>

    <services>
      <service name="ServerProject.Server" behaviorConfiguration="ServiceBehavior">
        <host>
          <baseAddresses>
            <add baseAddress="http://localhost:8733/Design_Time_Addresses/ServerProject/Server" />
          </baseAddresses>
        </host>

        <!-- REST -->
        <endpoint address="" binding="webHttpBinding" contract="ServerProject.IServer" behaviorConfiguration="webEndpointBehavior" />

        <!-- SOAP -->
        <endpoint address="soap" binding="basicHttpBinding" bindingConfiguration="BasicHttpBinding_Server" contract="ServerProject.IServer" />

        <!-- MEX -->
        <endpoint address="mex" binding="mexHttpBinding" contract="IMetadataExchange" />
      </service>
    </services>

    <behaviors>
      <serviceBehaviors>
        <behavior name="ServiceBehavior">
          <serviceMetadata httpGetEnabled="true" />
        </behavior>
      </serviceBehaviors>

      <endpointBehaviors>
        <behavior name="webEndpointBehavior">
          <!-- active la page d'aide et le mapping REST -->
          <webHttp helpEnabled="true" />
        </behavior>
      </endpointBehaviors>
    </behaviors>
  </system.serviceModel>
</configuration>